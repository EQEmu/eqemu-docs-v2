=== "Perl (145)"

    !!! info end

        Also see [Spire Quest API Explorer](http://spire.akkadius.com/quest-api-explorer?lang=perl&type=NPC){:target="NPC"} for latest definitions and Quest examples

    ``` perl
    $npc->AI_SetRoambox(float distance, float max_x, float min_x, float max_y, float min_y);
    $npc->AI_SetRoambox(float distance, float max_x, float min_x, float max_y, float min_y, uint32 max_delay, uint32 min_delay);
    $npc->AI_SetRoambox(float distance, float max_x, float min_x, float max_y, float min_y, uint32 max_delay);
    $npc->AddAISpellEffect(int spell_effect_id, int base_value, int limit_value, int max_value);
    $npc->AddDefensiveProc(uint16_t spell_id, uint16_t chance);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1, uint32 aug2, uint32 aug3, uint32 aug4);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1, uint32 aug2, uint32 aug3);
    $npc->AddItem(uint32 item_id);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1, uint32 aug2, uint32 aug3, uint32 aug4, uint32 aug5);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1, uint32 aug2, uint32 aug3, uint32 aug4, uint32 aug5, uint32 aug6);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1, uint32 aug2);
    $npc->AddItem(uint32 item_id, uint16 charges);
    $npc->AddItem(uint32 item_id, uint16 charges, bool equip_item, uint32 aug1);
    $npc->AddLootTable(uint32 loottable_id);
    $npc->AddLootTable();
    $npc->AddMeleeProc(uint16_t spell_id, uint16_t chance);
    $npc->AddRangedProc(uint16_t spell_id, uint16_t chance);
    $npc->AssignWaypoints(uint32 grid_id);
    $npc->CalculateNewWaypoint();
    $npc->ChangeLastName(string name);
    $npc->CheckNPCFactionAlly(int32 faction_id);
    $npc->ClearLastName();
    $npc->CountItem(uint32 item_id);
    $npc->CountLoot();
    $npc->DisplayWaypointInfo(Client* client);
    $npc->DoClassAttacks(Mob* target);
    $npc->GetAccuracyRating();
    $npc->GetAttackDelay();
    $npc->GetAttackSpeed();
    $npc->GetAvoidanceRating();
    $npc->GetCombatState();
    $npc->GetCopper();
    $npc->GetGold();
    $npc->GetGrid();
    $npc->GetGuardPointX();
    $npc->GetGuardPointY();
    $npc->GetGuardPointZ();
    $npc->GetHealScale();
    $npc->GetKeepsSoldItems();
    $npc->GetLDoNLockedSkill();
    $npc->GetLDoNTrapSpellID();
    $npc->GetLDoNTrapType();
    $npc->GetLootList();
    $npc->GetLoottableID();
    $npc->GetMaxDMG();
    $npc->GetMaxDamage(uint8 target_level);
    $npc->GetMaxWp();
    $npc->GetMinDMG();
    $npc->GetNPCAggro();
    $npc->GetNPCFactionID();
    $npc->GetNPCHate(Mob* mob);
    $npc->GetNPCSpellsID();
    $npc->GetNPCStat(string stat);
    $npc->GetPetSpellID();
    $npc->GetPlatinum();
    $npc->GetPrimSkill();
    $npc->GetPrimaryFaction();
    $npc->GetScore();
    $npc->GetSecSkill();
    $npc->GetSilver();
    $npc->GetSlowMitigation();
    $npc->GetSp2();
    $npc->GetSpawnKillCount();
    $npc->GetSpawnPointH();
    $npc->GetSpawnPointID();
    $npc->GetSpawnPointX();
    $npc->GetSpawnPointY();
    $npc->GetSpawnPointZ();
    $npc->GetSpellFocusDMG();
    $npc->GetSpellFocusHeal();
    $npc->GetSpellScale();
    $npc->GetSwarmOwner();
    $npc->GetSwarmTarget();
    $npc->GetWaypointMax();
    $npc->HasAISpellEffect(int spell_effect_id);
    $npc->HasItem(uint32 item_id);
    $npc->HasSpecialAbilities();
    $npc->IsAnimal();
    $npc->IsGuarding();
    $npc->IsLDoNLocked();
    $npc->IsLDoNTrapped();
    $npc->IsOnHatelist(Mob* mob);
    $npc->IsRaidTarget();
    $npc->IsRareSpawn();
    $npc->IsTaunting();
    $npc->IsUnderwaterOnly();
    $npc->MerchantCloseShop();
    $npc->MerchantOpenShop();
    $npc->ModifyNPCStat(string stat, string value);
    $npc->MoveTo(float x, float y, float z, float h, bool save);
    $npc->MoveTo(float x, float y, float z);
    $npc->MoveTo(float x, float y, float z, float h);
    $npc->NextGuardPosition();
    $npc->PauseWandering(int pause_time);
    $npc->PickPocket(Client* thief);
    $npc->RecalculateSkills();
    $npc->ReloadSpells();
    $npc->RemoveAISpellEffect(int spell_effect_id);
    $npc->RemoveDefensiveProc(uint16_t spell_id);
    $npc->RemoveFromHateList(Mob* mob);
    $npc->RemoveItem(uint32 item_id, uint16 quantity);
    $npc->RemoveItem(uint32 item_id);
    $npc->RemoveItem(uint32 item_id, uint16 quantity, uint16 slot_id);
    $npc->RemoveMeleeProc(uint16_t spell_id);
    $npc->RemoveRangedProc(uint16_t spell_id);
    $npc->ResumeWandering();
    $npc->SaveGuardSpot();
    $npc->SaveGuardSpot(bool clear);
    $npc->SaveGuardSpot(float x, float y, float z, float heading);
    $npc->ScaleNPC(uint8 npc_level);
    $npc->ScaleNPC(uint8 npc_level, bool override_special_abilities);
    $npc->SendPayload(int payload_id, string payload_value);
    $npc->SendPayload(int payload_id);
    $npc->SetCopper(uint32 amt);
    $npc->SetGold(uint32 amt);
    $npc->SetGrid(int grid);
    $npc->SetKeepsSoldItems(bool keeps_sold_items);
    $npc->SetLDoNLocked(bool is_locked);
    $npc->SetLDoNLockedSkill(uint16 skill_value);
    $npc->SetLDoNTrapDetected(bool is_detected);
    $npc->SetLDoNTrapSpellID(uint16 spell_id);
    $npc->SetLDoNTrapType(uint8 trap_type);
    $npc->SetLDoNTrapped(bool is_trapped);
    $npc->SetNPCAggro(bool in_npc_aggro);
    $npc->SetNPCFactionID(int faction_id);
    $npc->SetPetSpellID(uint16 amount);
    $npc->SetPlatinum(uint32 amt);
    $npc->SetPrimSkill(int skill_id);
    $npc->SetSaveWaypoint(uint16 wp);
    $npc->SetSecSkill(int skill_id);
    $npc->SetSilver(uint32 amt);
    $npc->SetSimpleRoamBox(float box_size, float move_distance, int move_delay);
    $npc->SetSimpleRoamBox(float box_size, float move_distance);
    $npc->SetSimpleRoamBox(float box_size);
    $npc->SetSp2(uint32 set_spawn_group_id);
    $npc->SetSpellFocusDMG(int new_spell_focus_dmg);
    $npc->SetSpellFocusHeal(int new_spell_focus_heal);
    $npc->SetSwarmTarget(int target_id);
    $npc->SetTaunting(bool on);
    $npc->SetWaypointPause();
    $npc->SignalNPC(int signal_id);
    $npc->StartSwarmTimer(uint32 duration);
    $npc->StopWandering();
    $npc->UpdateWaypoint(int wp_index);
    ```
=== "Lua (155)"

    !!! info end

        Also see [Spire Quest API Explorer](http://spire.akkadius.com/quest-api-explorer?lang=lua&type=NPC){:target="NPC"} for latest definitions and Quest examples

    ``` lua
    npc:AI_SetRoambox(float dist, float max_x, float min_x, float max_y, float min_y, uint32 delay, uint32 mindelay);
    npc:AI_SetRoambox(float dist, float max_x, float min_x, float max_y, float min_y);
    npc:AddAISpell(int priority, int spell_id, int type, int mana_cost, int recast_delay, int resist_adjust);
    npc:AddAISpell(int priority, int spell_id, int type, int mana_cost, int recast_delay, int resist_adjust, int min_hp, int max_hp);
    npc:AddAISpellEffect(int spell_effect_id, int base_value, int limit_value, int max_value);
    npc:AddCash(uint32 copper, uint32 silver, uint32 gold, uint32 platinum);
    npc:AddItem(int item_id, int charges, bool equip, int aug1, int aug2, int aug3, int aug4, int aug5);
    npc:AddItem(int item_id, int charges, bool equip, int aug1, int aug2);
    npc:AddItem(int item_id, int charges, bool equip, int aug1, int aug2, int aug3);
    npc:AddItem(int item_id, int charges, bool equip, int aug1, int aug2, int aug3, int aug4, int aug5, int aug6);
    npc:AddItem(int item_id, int charges, bool equip, int aug1, int aug2, int aug3, int aug4);
    npc:AddItem(int item_id, int charges, bool equip);
    npc:AddItem(int item_id, int charges, bool equip, int aug1);
    npc:AddItem(int item_id, int charges);
    npc:AddLootTable(int id);
    npc:AddLootTable();
    npc:AssignWaypoints(int grid);
    npc:CalculateNewWaypoint();
    npc:ChangeLastName(string last_name);
    npc:CheckNPCFactionAlly(faction);
    npc:ClearItemList();
    npc:ClearLastName();
    npc:CountItem(uint32 item_id);
    npc:CountLoot();
    npc:DeleteBucket(string bucket_name);
    npc:DisplayWaypointInfo(Client client);
    npc:DoClassAttacks(Mob target);
    npc:GetAccuracyRating();
    npc:GetAttackDelay();
    npc:GetAttackSpeed();
    npc:GetAvoidanceRating();
    npc:GetBucket(bucket_name);
    npc:GetBucketExpires(bucket_name);
    npc:GetBucketRemaining(bucket_name);
    npc:GetCopper();
    npc:GetFirstSlotByItemID(uint32 item_id);
    npc:GetFollowCanRun();
    npc:GetFollowDistance();
    npc:GetFollowID();
    npc:GetGold();
    npc:GetGrid();
    npc:GetGuardPointX();
    npc:GetGuardPointY();
    npc:GetGuardPointZ();
    npc:GetHealScale();
    npc:GetItemIDBySlot(uint16 loot_slot);
    npc:GetKeepsSoldItems();
    npc:GetLDoNLockedSkill();
    npc:GetLDoNTrapSpellID();
    npc:GetLDoNTrapType();
    npc:GetLootList();
    npc:GetLoottableID();
    npc:GetMaxDMG();
    npc:GetMaxDamage(int level);
    npc:GetMaxWp();
    npc:GetMinDMG();
    npc:GetNPCAggro();
    npc:GetNPCFactionID();
    npc:GetNPCHate(Mob ent);
    npc:GetNPCSpellsID();
    npc:GetNPCStat(string stat);
    npc:GetPetSpellID();
    npc:GetPlatinum();
    npc:GetPrimSkill();
    npc:GetPrimaryFaction();
    npc:GetRawAC();
    npc:GetScore();
    npc:GetSecSkill();
    npc:GetSilver();
    npc:GetSlowMitigation();
    npc:GetSp2();
    npc:GetSpawnKillCount();
    npc:GetSpawnPointH();
    npc:GetSpawnPointID();
    npc:GetSpawnPointX();
    npc:GetSpawnPointY();
    npc:GetSpawnPointZ();
    npc:GetSpellFocusDMG();
    npc:GetSpellFocusHeal();
    npc:GetSpellScale();
    npc:GetSwarmOwner();
    npc:GetSwarmTarget();
    npc:GetWaypointMax();
    npc:HasAISpellEffect(int spell_effect_id);
    npc:HasItem(uint32 item_id);
    npc:HasSpecialAbilities();
    npc:IsAnimal();
    npc:IsGuarding();
    npc:IsLDoNLocked();
    npc:IsLDoNTrapDetected();
    npc:IsLDoNTrapped();
    npc:IsOnHatelist(Mob ent);
    npc:IsRaidTarget();
    npc:IsRareSpawn();
    npc:IsTaunting();
    npc:IsUnderwaterOnly();
    npc:MerchantCloseShop();
    npc:MerchantOpenShop();
    npc:ModifyNPCStat(string stat, string value);
    npc:MoveTo(float x, float y, float z, float h, bool save);
    npc:NextGuardPosition();
    npc:PauseWandering(int pause_time);
    npc:PickPocket(Client thief);
    npc:RecalculateSkills();
    npc:ReloadSpells();
    npc:RemoveAISpell(int spell_id);
    npc:RemoveAISpellEffect(int spell_effect_id);
    npc:RemoveCash();
    npc:RemoveItem(int item_id);
    npc:RemoveItem(int item_id, int quantity);
    npc:RemoveItem(int item_id, int quantity, int slot);
    npc:ResumeWandering();
    npc:SaveGuardSpot(bool clear);
    npc:SaveGuardSpot();
    npc:SaveGuardSpot(float x, float y, float z, float heading);
    npc:ScaleNPC(uint8 npc_level);
    npc:ScaleNPC(uint8 npc_level, bool override_special_abilities);
    npc:SendPayload(int payload_id, string payload_value);
    npc:SendPayload(int payload_id);
    npc:SetBucket(string bucket_name, string bucket_value);
    npc:SetBucket(string bucket_name, string bucket_value, string expiration);
    npc:SetCopper(uint32 amt);
    npc:SetFollowCanRun(bool v);
    npc:SetFollowDistance(int dist);
    npc:SetFollowID(int id);
    npc:SetGold(uint32 amt);
    npc:SetGrid(int grid);
    npc:SetKeepsSoldItems(bool keeps_sold_items);
    npc:SetLDoNLocked(bool is_locked);
    npc:SetLDoNLockedSkill(uint16 skill_value);
    npc:SetLDoNTrapDetected(bool is_detected);
    npc:SetLDoNTrapSpellID(uint16 spell_id);
    npc:SetLDoNTrapType(uint8 trap_type);
    npc:SetLDoNTrapped(bool is_trapped);
    npc:SetNPCAggro(bool in_npc_aggro);
    npc:SetNPCFactionID(int id);
    npc:SetPetSpellID(int id);
    npc:SetPlatinum(uint32 amt);
    npc:SetPrimSkill(int skill_id);
    npc:SetSaveWaypoint(int wp);
    npc:SetSecSkill(int skill_id);
    npc:SetSilver(uint32 amt);
    npc:SetSimpleRoamBox(float box_size);
    npc:SetSimpleRoamBox(float box_size, float move_distance);
    npc:SetSimpleRoamBox(float box_size, float move_distance, int move_delay);
    npc:SetSp2(int sg2);
    npc:SetSpellFocusDMG(int focus);
    npc:SetSpellFocusHeal(int focus);
    npc:SetSwarmTarget(int target);
    npc:SetTaunting(bool t);
    npc:SetWaypointPause();
    npc:Signal(int signal_id);
    npc:StartSwarmTimer(uint32 duration);
    npc:StopWandering();
    npc:UpdateWaypoint(int wp);
    ```
